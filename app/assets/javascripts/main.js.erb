$(document).ready(function() {
  const CLIENT_ID = '<%= ENV['CLIENT_ID'] %>';

  axios.get(`https://api.soundcloud.com/users/14533601/tracks?client_id=${CLIENT_ID}`)
    .then(function (response) {
      // Store the length of the tracks
      const trackLength = response.data.length;

      // Pick a random number
      const randomNumber = Math.floor((Math.random() * trackLength) + 1);

      // Return track id of random track
      trackId = response.data[randomNumber].id
    })
    .then(function() {
      SC.initialize({
        client_id: '<%= ENV['CLIENT_ID'] %>'
      });

      SC.stream('/tracks/' + trackId, function(sound) {

        $('.radio').on('click', '#start', function(event) {
            event.preventDefault();
            sound.play();
        });

        $('.radio').on('click', '#stop', function(event) {
            event.preventDefault();
            sound.stop();
        });
      });
    })
});
